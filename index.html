<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FChain Wallet Demo</title>

<style>
body{margin:0;font-family:Arial;background:#0f172a;color:white;}
.page{display:none;padding:15px;}
.active{display:block;}
h2{text-align:center;}
input{width:100%;padding:12px;margin:6px 0;border-radius:8px;border:none;}
.btn{width:100%;padding:14px;background:#2563eb;border:none;border-radius:10px;color:white;font-size:16px;margin-top:10px;}
.btn:hover{background:#1e40af;}
.card{background:#111827;padding:12px;border-radius:12px;margin-top:10px;}
.top-actions{display:flex;gap:8px;margin-bottom:10px;}
.bottom-nav{position:fixed;bottom:0;width:100%;display:flex;background:#020617;border-top:1px solid #1e293b;}
.nav-btn{flex:1;text-align:center;padding:10px;color:#94a3b8;font-size:14px;}
.nav-btn:hover{color:white;}

.net-panel{background:#020617;padding:6px;font-size:12px;border-top:1px solid #1e293b;}
.netbar{width:100%;height:6px;background:#111827;border-radius:10px;overflow:hidden;margin-top:5px;}
.netfill{height:100%;background:#22c55e;width:0%;transition:width 1s;}

#netLogs{height:60px;overflow:hidden;font-size:11px;color:#22c55e;}

video{width:100%;border-radius:12px;border:2px solid #1e293b;}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginPage" class="page active">
<h2>FChain Demo Wallet Login</h2>
<input id="emailInput" placeholder="Email">
<input id="passwordInput" type="password" placeholder="Password">
<button class="btn" onclick="loginUser()">Login</button>
<p style="text-align:center;font-size:12px;color:#94a3b8;">Demo Mode: Any email & password works</p>
</div>

<!-- HOME -->
<div id="home" class="page">
<h2>FChain Wallet</h2>

<div class="top-actions">
<button class="btn" onclick="openPage('receive')">Receive</button>
<button class="btn" onclick="openPage('buy')">Buy</button>
<button class="btn" onclick="openPage('sell')">Sell</button>
</div>

<h1 id="totalBalance">$0.00</h1>
<div class="card">BTC: <span id="btcBal">0.000000</span></div>
<div class="card">ETH: <span id="ethBal">0.000000</span></div>
<div class="card">FCH Token: <span id="fchBal">0</span></div>

<button class="btn" onclick="openPage('profile')">Profile</button>
<button class="btn" onclick="resetDemo()">Reset Demo</button>
</div>

<!-- RECEIVE CAMERA (NO QR SCAN) -->
<div id="receive" class="page">
<button class="btn" onclick="stopCamera();openPage('home')">⬅ Back</button>
<h2>Wallet Receive Scanner</h2>
<p style="font-size:12px;color:#94a3b8;text-align:center;">Scanning wallet address (demo mode)</p>
<video id="camView" autoplay></video>
<button class="btn" onclick="startCamera()">Start Camera</button>
</div>

<!-- BUY -->
<div id="buy" class="page">
<button class="btn" onclick="openPage('home')">⬅ Back</button>
<h2>Buy Crypto</h2>
<div class="card">Buy BTC (Demo)</div>
<div class="card">Buy ETH (Demo)</div>
</div>

<!-- SELL -->
<div id="sell" class="page">
<button class="btn" onclick="openPage('home')">⬅ Back</button>
<h2>Sell Crypto</h2>
<div class="card">Sell BTC (Demo)</div>
<div class="card">Sell ETH (Demo)</div>
</div>

<!-- PROFILE -->
<div id="profile" class="page">
<button class="btn" onclick="openPage('home')">⬅ Back</button>
<h2>User Profile</h2>
<div class="card">Username: <span id="profileUser"></span></div>
<div class="card">Email: <span id="profileEmail"></span></div>
</div>

<!-- NETWORK PANEL ABOVE NAV -->
<div class="net-panel">
<div id="netLogs"></div>
<div class="netbar"><div id="netFill" class="netfill"></div></div>
</div>

<!-- BOTTOM NAV -->
<div class="bottom-nav">
  <div class="nav-btn" onclick="openPage('home')">Home</div>
  <div class="nav-btn" onclick="openPage('receive')">Receive</div>
  <div class="nav-btn" onclick="openPage('buy')">Buy</div>
  <div class="nav-btn" onclick="openPage('profile')">Profile</div>
</div>

<script>
// -------- NAVIGATION --------
function openPage(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// -------- LOGIN SYSTEM --------
function loginUser(){
  const email = emailInput.value.trim();
  const password = passwordInput.value.trim();
  if(!email || !password){ alert("Enter email & password"); return; }

  localStorage.setItem("demoEmail", email);
  loadUser(email);
  openPage("home");
}

window.onload = function(){
  const email = localStorage.getItem("demoEmail");
  if(email){
    loadUser(email);
    openPage("home");
  }
};

function loadUser(email){
  profileUser.innerText = email.split("@")[0];
  profileEmail.innerText = email;
  btcBal.innerText = "0.000000";
  ethBal.innerText = "0.000000";
  fchBal.innerText = "0";
  totalBalance.innerText = "$0.00";
}

function resetDemo(){
  localStorage.clear();
  location.reload();
}

// -------- LIVE CAMERA (NO SCAN) --------
let camStream;
async function startCamera(){
  camStream = await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});
  camView.srcObject = camStream;
}
function stopCamera(){
  if(camStream){
    camStream.getTracks().forEach(t=>t.stop());
  }
}

// -------- REALISTIC NETWORK SIMULATION --------
const logs = [
"Connecting to FChain mainnet...",
"Syncing block headers...",
"Gas fee updated: 0.00021 ETH",
"Transaction pool synced",
"Validator consensus reached",
"Tax fee: 0.3% applied",
"Confirmations: 1/12",
"Confirmations: 2/12",
"Confirmations: 6/12",
"Transaction finalized",
"Network stable",
"Broadcasting mempool update"
];

let logIndex = 0;
setInterval(()=>{
  netFill.style.width = Math.floor(Math.random()*100)+"%";

  netLogs.innerHTML = logs[logIndex] + "<br>" + netLogs.innerHTML;
  logIndex++;
  if(logIndex >= logs.length) logIndex = 0;
},2000);
</script>

</body>
  </html>
